{% extends 'tictactoe/base.html' %}
{% block title %}–ò–≥—Ä–∞{% endblock %}
{% block content %}
<h2>{{ game.player_x }} vs {{ game.player_o }}</h2>

{% if game.winner %}
    <h3>
        {% if game.winner == "D" %}
            ‚öñÔ∏è –ù–∏—á—å—è!
        {% else %}
            üèÜ –ü–æ–±–µ–¥–∏—Ç–µ–ª—å: {{ game.winner }}
        {% endif %}
    </h3>
{% else %}
    <h3>–•–æ–¥–∏—Ç: {{ game.current_turn }}</h3>
{% endif %}

<form method="post">
    {% csrf_token %}
    <table>
        {% for row in rows %}
        <tr>
            {% for idx, cell in row %}
            <td style="width:60px;height:60px;text-align:center;font-size:24px;">
                {% if cell %}
                    {{ cell }}
                {% elif not game.winner %}
                    <button name="cell" value="{{ idx }}">-</button>
                {% endif %}
            </td>
            {% endfor %}
        </tr>
        {% endfor %}
    </table>
</form>

{% if game.winner %}
    <br>
    <a href="{% url 'new_game' %}"><button>–ù–æ–≤–∞—è –∏–≥—Ä–∞</button></a>
{% endif %}
{% endblock %}
<style>
    td button {
        width: 60px;
        height: 60px;
        font-size: 22px;
        background: rgba(255,255,255,0.2);
        color: #fff;
        border: none;
        border-radius: 8px;
        transition: background 0.3s, transform 0.2s;
    }
    td button:hover {
        background: #4CAF50;
        transform: scale(1.1);
    }
</style>
